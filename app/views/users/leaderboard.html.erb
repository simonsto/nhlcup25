<h1>🏒 Leaderboard – Chasing the Cup '25</h1>

<% if user_signed_in? %>
  <div style="margin-bottom: 20px; font-weight: bold;">
    <p>
      You are currently ranked <%= current_user.rank.ordinalize %> with <%= current_user.score || 0 %> points.
    </p>
    <p>
      👉 <%= link_to "View My Picks", my_picks_path, style: "color: blue;" %>
    </p>
  </div>
<% end %>

<table>
  <thead>
    <tr>
      <th>Rank</th>
      <th>User</th>
      <th>Group</th>
      <th>Score</th>
    </tr>
  </thead>
  <tbody>
    <% @users.each_with_index do |user, index| %>
      <tr <%= "style='background-color: #ffffdd;'" if user == current_user %>>
        <td><%= index + 1 %></td>
        <td><%= user.username || user.email %></td>
        <td><%= user.user_group&.name || "—" %></td>
        <td><%= user.score || 0 %></td>
      </tr>
    <% end %>
  </tbody>
</table>
